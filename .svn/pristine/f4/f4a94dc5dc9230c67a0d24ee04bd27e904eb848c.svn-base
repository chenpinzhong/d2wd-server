"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[881],{8881:function(e,a,t){t.r(a);var i=t(5671),s=t(3144),l=t(9340),d=t(8557),n=t(435),r=t(7031),m=t(5224),o=t(3794),c=t(2791),_=t(4569),h=t.n(_),p=(t(6807),t(6200),t(6773),t(732)),x=t(184),f=function(e){(0,l.Z)(t,e);var a=(0,d.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return(e=a.call.apply(a,[this].concat(l))).state={page_data:{current_page:1,per_page:"20",pageSizeOptions:[10,15,20,30,50,100]},table_loading:!1,modify_page:{show:!1,edit_type:"add",title_map:{add:"\u6dfb\u52a0\u7528\u6237\u4fe1\u606f",edit:"\u7f16\u8f91\u7528\u6237\u4fe1\u606f"},submit_title_map:{add:"\u63d0\u4ea4",edit:"\u63d0\u4ea4"},default_data:{}}},e.columns=e.table_columns(),e}return(0,s.Z)(t,[{key:"get_params",value:function(e,a){return this.props.params.get(e)?this.props.params.get(e):a}},{key:"componentDidMount",value:function(){this.get_page_data(this.get_params("page",1),this.get_params("page_size",10)),window.addEventListener("popstate",(function(e){window.location.href=window.location.href}),!1)}},{key:"get_page_data",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i="",s=[];this.props.params.forEach((function(e,l){return s.push(l),"page"==l?(i+="&"+l+"="+a,e):"page_size"==l?(i+="&"+l+"="+t,e):(i+="&"+l+"="+e,e)})),s.indexOf("page")<0&&(i+="&page="+a),s.indexOf("page_size")<0&&(i+="&page_size="+t);var l="?"+i.substr(1);window.history.pushState({},"",l),this.state.table_loading=!0,this.setState(this.state);var d="//127.0.0.1:19730/";h().get(d+"/admin/admin_user/get"+l).then((function(a){e.state.page_data=a.data.data,e.state.table_loading=!1,e.setState(e.state)}),(function(e){console.log("\u83b7\u53d6\u7528\u6237\u6570\u636e\u5931\u8d25",e)}))}},{key:"page_edit_close",value:function(){this.state.modify_page.show=!this.state.modify_page.show,this.setState(this.state)}},{key:"add",value:function(){this.state.modify_page.show=!0,this.state.modify_page.edit_type="add",this.setState(this.state)}},{key:"edit",value:function(e){this.state.modify_page.show=!0,this.state.modify_page.edit_type="edit",this.state.modify_page.default_data=e,this.setState(this.state)}},{key:"table_columns",value:function(){var e=this;return[{dataIndex:"id",title:"ID"},{dataIndex:"account_name",title:"\u8d26\u53f7\u540d\u79f0"},{dataIndex:"user_name",title:"\u7528\u6237\u540d\u79f0"},{dataIndex:"real_name",title:"\u771f\u5b9e\u540d\u79f0"},{dataIndex:"real_name",title:"\u771f\u5b9e\u540d\u79f0"},{dataIndex:"level",title:"\u7ea7\u522b"},{dataIndex:"age",title:"\u5e74\u9f84"},{dataIndex:"group_rights",title:"\u6743\u9650\u7ec4"},{dataIndex:"user_rights",title:"\u7528\u6237\u6743\u9650"},{dataIndex:"offline_time",title:"\u79bb\u7ebf\u65f6\u95f4"},{dataIndex:"add_time",title:"\u6ce8\u518c\u65f6\u95f4"},{dataIndex:"update_time",title:"\u66f4\u65b0\u65f6\u95f4"},{dataIndex:"phone_number",title:"\u624b\u673a\u53f7"},{dataIndex:"user_status",title:"\u7528\u6237\u72b6\u6001"},{title:"\u64cd\u4f5c",width:140,render:function(a){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.Z,{size:"small",type:"link","data-id":a.id,onClick:function(){return e.edit(a)},children:"\u7f16\u8f91"}),(0,x.jsx)(n.Z,{size:"small",type:"link","data-id":a.id,onClick:function(){return alert("\u76ee\u524d\u4e0d\u652f\u6301\u5220\u9664")},children:"\u5220\u9664"})]})}}]}},{key:"modify_page",value:function(){var e=this,a=this.state.modify_page,t="",i="";a.edit_type in a.title_map&&(t=a.title_map[a.edit_type]),a.edit_type in a.submit_title_map&&(i=a.submit_title_map[a.edit_type]);var s=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("input",{type:"hidden",name:"action_type",value:a.edit_type}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u8d26\u53f7\u540d\u79f0"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7\u540d\u79f0",name:"account_name"}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8d26\u53f7\u540d\u79f0"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u8d26\u53f7\u5bc6\u7801"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u5bc6\u7801"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",name:"password",type:"password"}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8bf7\u8f93\u5165\u5bc6\u7801"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u5bc6\u7801"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u624b\u673a\u53f7"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",name:"phone"}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u7528\u6237\u540d\u79f0"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u771f\u5b9e\u540d\u79f0",name:"user_name"}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u79f0"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u79f0"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u771f\u5b9e\u540d\u79f0"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u771f\u5b9e\u540d\u79f0",name:"real_name"}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8bf7\u8f93\u5165\u771f\u5b9e\u540d\u79f0"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u771f\u5b9e\u540d\u79f0"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"item_col_25"}),(0,x.jsx)("div",{className:"form_item_col item_col_40",children:(0,x.jsx)(n.Z,{type:"primary",htmlType:"submit",children:i})})]})]}),l=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("input",{type:"hidden",name:"action_type",value:a.edit_type}),(0,x.jsx)("input",{type:"hidden",name:"id",value:a.default_data.id}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"ID"}),(0,x.jsx)("div",{className:"form_item_col item_col_40",children:(0,x.jsx)("label",{children:a.default_data.id})}),(0,x.jsx)("div",{style:{marginLeft:"10px"}})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u8d26\u53f7\u540d\u79f0"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7\u540d\u79f0",name:"account_name",defaultValue:a.default_data.account_name}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8d26\u53f7\u540d\u79f0"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u8d26\u53f7\u5bc6\u7801"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u5bc6\u7801"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",name:"password",type:"password"}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8bf7\u8f93\u5165\u5bc6\u7801"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u5bc6\u7801"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u624b\u673a\u53f7"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",name:"phone",defaultValue:a.default_data.phone}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u7528\u6237\u540d\u79f0"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u771f\u5b9e\u540d\u79f0",name:"user_name",defaultValue:a.default_data.user_name}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u79f0"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u79f0"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"form_item_label item_col_25",children:"\u771f\u5b9e\u540d\u79f0"}),(0,x.jsxs)("div",{className:"form_item_col item_col_40",children:[(0,x.jsx)(r.Z,{placeholder:"\u8bf7\u8f93\u5165\u771f\u5b9e\u540d\u79f0",name:"real_name",defaultValue:a.default_data.real_name}),(0,x.jsx)("div",{role:"alert",style:{display:"none"},className:"form_item_error",children:"\u8bf7\u8f93\u5165\u771f\u5b9e\u540d\u79f0"})]}),(0,x.jsx)("div",{style:{marginLeft:"10px"},children:"\u8bf7\u8f93\u5165\u771f\u5b9e\u540d\u79f0"})]}),(0,x.jsxs)("div",{className:"form_item",children:[(0,x.jsx)("div",{className:"item_col_25"}),(0,x.jsx)("div",{className:"form_item_col item_col_40",children:(0,x.jsx)(n.Z,{type:"primary",htmlType:"submit",children:i})})]})]});return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"page_edit "+(a.show?"":"hide"),children:[(0,x.jsxs)("div",{className:"page_content",children:[(0,x.jsxs)("div",{className:"page_title_box",children:[(0,x.jsx)("div",{className:"page_title",children:t}),(0,x.jsx)("div",{className:"page_edit_close",onClick:function(){e.page_edit_close()},children:(0,x.jsx)(p.Z,{})})]}),(0,x.jsx)("div",{style:{marginTop:"20px"},children:(0,x.jsxs)("form",{method:"post",children:["add"===a.edit_type?s:"","edit"===a.edit_type?l:""]})})]}),(0,x.jsx)("div",{className:"page_bg"})]})})}},{key:"render",value:function(){var e=this,a=this.state.page_data;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{style:{padding:"10px",position:"relative"},children:[(0,x.jsx)("div",{className:"from_box",children:(0,x.jsxs)("form",{className:"from_flex",onSubmit:function(){return console.log("1")},children:[(0,x.jsxs)("div",{className:"from_element",children:[(0,x.jsx)("label",{className:"label",title:"\u63cf\u8ff0",children:"\u8d26\u53f7\u540d\u79f0:"}),(0,x.jsx)(r.Z,{name:"account_name",placeholder:"\u8d26\u53f7\u540d\u79f0",defaultValue:this.props.params.get("account_name")})]}),(0,x.jsxs)("div",{className:"from_element",children:[(0,x.jsx)("label",{className:"label",title:"\u7528\u6237\u540d\u79f0",children:"\u7528\u6237\u540d\u79f0:"}),(0,x.jsx)(r.Z,{name:"user_name",placeholder:"\u7528\u6237\u540d\u79f0",defaultValue:this.props.params.get("user_name")})]}),(0,x.jsxs)("div",{className:"from_element",children:[(0,x.jsx)("label",{className:"label",title:"\u771f\u5b9e\u540d\u79f0",children:"\u771f\u5b9e\u540d\u79f0:"}),(0,x.jsx)(r.Z,{name:"real_name",placeholder:"\u771f\u5b9e\u540d\u79f0",defaultValue:this.props.params.get("real_name")})]}),(0,x.jsxs)("div",{className:"from_element",children:[(0,x.jsx)("input",{name:"page",type:"hidden",value:this.get_params("page",1)}),(0,x.jsx)("input",{name:"page_size",type:"hidden",value:this.get_params("page_size",10)}),(0,x.jsx)(n.Z,{type:"primary",htmlType:"submit",children:"\u67e5\u8be2"})]})]})}),(0,x.jsx)(m.Z,{rowKey:"id",columns:this.columns,dataSource:this.state.page_data.data,position:"bottomCenter",pagination:!1,bordered:!0,loading:this.state.table_loading,showSizeChanger:"false"}),(0,x.jsxs)("div",{className:"page_bottom",children:[(0,x.jsx)("div",{className:"bottom_function",children:(0,x.jsx)("a",{href:"#",onClick:function(){return e.add()},children:"\u6dfb\u52a0\u7528\u6237"})}),(0,x.jsx)("div",{className:"paging_module",children:(0,x.jsx)(o.Z,{current:a.current_page,showSizeChanger:!0,showQuickJumper:!1,total:a.total,pageSizeOptions:a.pageSizeOptions,pageSize:a.per_page,showTotal:function(e,a){return"\u663e\u793a ".concat(a[0],"-").concat(a[1]," , \u603b\u5171 ").concat(e," \u6761")},onShowSizeChange:function(a,t){return e.get_page_data(a,t)},onChange:function(a,t){return e.get_page_data(a,t)}})})]})]}),this.modify_page()]})}}]),t}(c.Component);a.default=f},6200:function(){},6773:function(){}}]);
//# sourceMappingURL=881.cca0925e.chunk.js.map